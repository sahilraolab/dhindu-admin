import React, { useState } from "react";
import "./InputField.css";

const InputField = ({
    label,
    type,
    value,
    onChange,
    placeholder,
    required = false
}) => {
    const [showPassword, setShowPassword] = useState(false);

    const togglePasswordVisibility = () => {
        setShowPassword(!showPassword);
    };

    return (
        <div className="input-field">
            <label>{label}</label>
            <div className="input-container">
                <input
                    type={type === "password" ? (showPassword ? "text" : "password") : type}
                    value={value}
                    onChange={onChange}
                    placeholder={placeholder}
                    required={required}
                />
                {type === "password" && (
                    <span className="toggle-password" onClick={togglePasswordVisibility}>
                        {showPassword ?
                            <svg width="18" height="16" viewBox="0 0 24 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M23.1853 7.69625C23.1525 7.62219 22.3584 5.86062 20.5931 4.09531C18.2409 1.74312 15.27 0.5 12 0.5C8.72999 0.5 5.75905 1.74312 3.40687 4.09531C1.64155 5.86062 0.843741 7.625 0.814679 7.69625C0.772035 7.79217 0.75 7.89597 0.75 8.00094C0.75 8.10591 0.772035 8.20971 0.814679 8.30562C0.847491 8.37969 1.64155 10.1403 3.40687 11.9056C5.75905 14.2569 8.72999 15.5 12 15.5C15.27 15.5 18.2409 14.2569 20.5931 11.9056C22.3584 10.1403 23.1525 8.37969 23.1853 8.30562C23.2279 8.20971 23.25 8.10591 23.25 8.00094C23.25 7.89597 23.2279 7.79217 23.1853 7.69625ZM12 11.75C11.2583 11.75 10.5333 11.5301 9.9166 11.118C9.29992 10.706 8.81927 10.1203 8.53544 9.43506C8.25161 8.74984 8.17735 7.99584 8.32205 7.26841C8.46674 6.54098 8.82389 5.8728 9.34834 5.34835C9.87279 4.8239 10.541 4.46675 11.2684 4.32205C11.9958 4.17736 12.7498 4.25162 13.4351 4.53545C14.1203 4.81928 14.7059 5.29993 15.118 5.91661C15.5301 6.5333 15.75 7.25832 15.75 8C15.75 8.99456 15.3549 9.94839 14.6516 10.6517C13.9484 11.3549 12.9946 11.75 12 11.75Z" fill="black" />
                            </svg>
                            :
                            <svg width="18" height="18" viewBox="0 0 24 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.06374 2.42611C9.01945 2.37759 8.98868 2.31828 8.97452 2.25413C8.96036 2.18998 8.9633 2.12323 8.98305 2.06057C9.00279 1.99792 9.03865 1.94155 9.08704 1.89711C9.13542 1.85267 9.19463 1.82172 9.25874 1.80736C10.158 1.60187 11.0776 1.49902 12 1.5008C15.27 1.5008 18.2409 2.74392 20.5931 5.09611C22.3584 6.86142 23.1525 8.62298 23.1853 8.69705C23.2279 8.79296 23.25 8.89676 23.25 9.00173C23.25 9.1067 23.2279 9.2105 23.1853 9.30642C23.1525 9.38048 22.3584 11.1411 20.5931 12.9064C20.3256 13.1727 20.0509 13.4249 19.7691 13.663C19.6949 13.726 19.5992 13.7576 19.5021 13.7513C19.405 13.745 19.3141 13.7013 19.2487 13.6292L9.06374 2.42611ZM20.055 16.7464C20.1226 16.8191 20.1751 16.9044 20.2095 16.9975C20.2439 17.0906 20.2595 17.1896 20.2554 17.2888C20.2512 17.3879 20.2275 17.4853 20.1854 17.5752C20.1434 17.6651 20.0839 17.7457 20.0105 17.8125C19.937 17.8792 19.851 17.9307 19.7575 17.964C19.664 17.9973 19.5649 18.0117 19.4657 18.0064C19.3666 18.001 19.2696 17.9761 19.1802 17.933C19.0908 17.8898 19.0109 17.8294 18.945 17.7552L16.875 15.4817C15.3398 16.1607 13.6786 16.508 12 16.5008C8.72999 16.5008 5.75905 15.2577 3.40687 12.9064C1.64155 11.1411 0.843741 9.38048 0.814679 9.30642C0.772035 9.2105 0.75 9.1067 0.75 9.00173C0.75 8.89676 0.772035 8.79296 0.814679 8.69705C0.843741 8.6258 1.64155 6.86142 3.40687 5.09611C4.11214 4.38759 4.89887 3.76512 5.75062 3.24173L3.94499 1.25517C3.87737 1.18253 3.82483 1.09718 3.79043 1.00409C3.75603 0.910992 3.74045 0.811994 3.7446 0.712832C3.74874 0.613671 3.77252 0.516318 3.81457 0.426415C3.85661 0.336513 3.91608 0.25585 3.98953 0.189101C4.06298 0.122352 4.14895 0.0708441 4.24245 0.0375638C4.33595 0.00428337 4.43513 -0.010108 4.53423 -0.00477635C4.63334 0.000555297 4.7304 0.025504 4.81979 0.0686237C4.90918 0.111743 4.98913 0.172176 5.05499 0.24642L20.055 16.7464ZM13.9153 12.223L8.97562 6.78548C8.46662 7.48289 8.21386 8.33457 8.26002 9.19673C8.30618 10.0589 8.64844 10.8787 9.22899 11.5178C9.80955 12.1568 10.5928 12.576 11.4466 12.7045C12.3004 12.833 13.1724 12.6629 13.9153 12.223Z" fill="black" />
                            </svg>
                        }
                    </span>
                )}
            </div>
        </div>
    );
};

export default InputField;
